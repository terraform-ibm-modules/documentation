# Authoring guidelines

## Module structure

Make sure that the module adheres to a common structure. For more information, see [module structure](module-structure.md).

## Module names and descriptions

A module has names and descriptions at the repository level and in the readme file.

| Item                    | Guidance | Constraints | Example |
|-------------------------|----------|-------------|---------|
| Repo name               | Use a three-part name format: `terraform-ibm-<NAME>`, where `<NAME>` reflects the type of infrastructure that the module manages. | Use hyphens in `<NAME>` as delimiters for multiple strings | `terraform-ibm-activity-tracker`|
| Repo description        | The description can help users understand the purpose of your module. Focus on keywords that users might look or search for. Starting the description with a verb can help users skim the information.<br/><br/>The description is displayed under the repository name on the [organization page](https://github.com/terraform-ibm-modules) and in the **About** section of the repository.   | 128 characters or fewer | Installs Activity Tracker into an IBM Cloud account |
| Readme file title       | For the first heading in the main readme file, use a name that is based on the module use case. | 60 characters or fewer | IBM Cloud Activity Tracker module|
| Readme file description | In the title section of the readme file, add a description that explains the goals and important features of the module. Expand on the repo description. |

### Nested module names

Do not repeat the name of the top-level module in nested modules. For example, for a top-level module that is named `terraform-ibm-cos`, do not name the nested module `cos-instance` because it converts to "cos_cos-instance" in the module registry. Use `instance` (to register the child-module as "cos_instance") instead.

## Module variables

### Variable names

Input and output variable names must correspond to the names used in the IBM Cloud UI, CLI, or in the IBM Cloud Documentation.

### Variable descriptions

Include a short description for each input and output variable in the `variables.tf` file. Use full English sentences and avoid abbreviations unless they are unambiguous to both contributors and consumers of the module.

?> **Tip**: The variable names and description in the readme file at the root of the repo are generated by [pre-commit hooks](https://github.com/terraform-ibm-modules/common-dev-assets/blob/main/module-assets/.pre-commit-config.yaml#L28). The values come from the `variables.tf` file.

### Variable defaults

Include default values where possible and set the sensitive flag as needed. Update the meaning of a type only with agreement of the governance body.

## Reference architecture

If this module is published as a deployable architecture in IBM Cloud, include a reference architecture that describes the design.

- Author the reference architecture in Markdown.
- Start from the [Markdown template](https://github.com/terraform-ibm-modules/documentation/raw/main/docs/templates/reference-architecture-template.md ':target=_blank') to guide you.
- Include an architecture diagram.
- Save the files in your module in the `reference-architectures` directory.
- For more information, see the template in the [documentation](https://github.com/terraform-ibm-modules/documentation/blob/main/docs/templates/reference-architecture-template.md) repo.

## Module examples

[inc-examples](inc-examples.md ':include')

## Module validation tests

Modules must contain at least one automated validation test that runs Terraform apply and destroy commands, and tests the idempotency of the module. See [Validation tests](tests.md) for details.

## Versioning

Module changes adhere to [semantic versioning](https://semver.org/), with releases labeled as `{major}.{minor}.{patch}`. [Git tags](https://git-scm.com/book/en/v2/Git-Basics-Tagging) are used to identify the module versions. For more information about versioning, see [Release versioning](versioning.md).

## Module documentation

Document the module in the readme file at the same level as the `main.tf` file for each of the modules in a repository, including the example modules. Put content that isn't required initially in a `docs` subdirectory. For more information about the title and description, see [Module names and descriptions](#module-names-and-descriptions).

For consistency across modules, follow the same structure in all readme files. For more information about the structure of the readme file, see the readme file in the [terraform-ibm-module-template](https://github.com/terraform-ibm-modules/terraform-ibm-module-template/blob/main/README.md).
